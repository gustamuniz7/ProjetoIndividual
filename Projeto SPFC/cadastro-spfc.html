<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cadastro</title>
    <link rel="stylesheet" href="./Style/style-cadastro.css" />
  </head>

  <body>
    <div class="header">
      <div class="container">
        <ul class="navbar">
          <h5 class="agora">
            <a href="./index-spfc.html">Início</a>
          </h5>
          <h5>
            <a href="dryflow-index.html#sobrenos">Sobre nós</a>
          </h5>
          <li><img src="./spfc-logo.png" /></li>
          <h5>
            <a href=""
              >Quiz</a
            >
          </h5>
          <h5>
            <a href="./login-spfc.html">Login</a>
          </h5>
        </ul>
      </div>
    </div>
    <div class="cadastro">
      <div class="container">
        <div class="mens">
          <h1>Bem-vindo!</h1>
          <p>
            Já tem uma conta? clique no botão a baixo e faça o seu
            login!
          </p>
          <a href="./login-spfc.html">Login</a>
        </div>

        <div class="nav">
          <div class="boxer">
            <div class="box">
              <p>Nome de Usuário:</p>
              <input
                placeholder="Insira seu nome de usuário"
                type="text"
                id="ipt_nomeEmpresa"
                
              />
              <p>E-mail:</p>
              <input
                placeholder="Insira o email para contato"
                type="text"
                id="ipt_email"
                value="lucasmoura@gmail.com"
              />
              <p>Senha:</p>
              <input
                placeholder="Crie uma senha"
                type="password"
                id="ipt_senha"
                value="654321"
              />
              <p>Confirmar Senha:</p>
              <input type="password"
              id="ipt_confirmacao"
              value="654321">
            </div>
          </div>
          <div class="nav-botao">
            <button onclick="cadastro()">Confirmar cadastro</button>
            <div id="div_mensagem"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">
      <div class="container">
        <div class="footer-col">
          <p class="sub-info">Rua Haddock Lobo, 595 - SP</p>
        </div>

        <!-- Logo central -->
        <div class="footer-logo">
          <a href="dryflow-index.html">
            <img class="logo" src="Imgs/logoDryFlow.png" alt="Logo Dry Flow" />
          </a>
        </div>

        <!-- Coluna direita -->
        <div class="footer-col">
          <p>Ligue (11)12345-6789</p>
          <p class="sub-info">
            <a class="email-link" href="email:dryflow@sptech.school"
              >gustavo.doliveira@sptech.school</a
            >
          </p>
        </div>
      </div>
    </div>
  </body>
  <script>
    function cadastro() {
      var nomeEmpresa = ipt_nomeEmpresa.value;
      var cnpj = ipt_cnpj.value;
      var telefone = ipt_telefone.value;
      var email = ipt_email.value;
      var senha = ipt_senha.value;
      var rua = ipt_rua.value;
      var numero = Number(ipt_numero.value);
      var cidade = ipt_cidade.value;
      var cep = ipt_cep.value;
      var logradouro = ipt_logradouro.value;

      var mensCadastro;

      var tamanhoSenha = senha.length;

      var terminaCom = email.endsWith(".com") || email.endsWith(".com.br");
      var indiceArroba = email.indexOf("@");
      var contemArroba = indiceArroba >= 0;

      var cnpjValido = cnpj.length;

      var telefoneValido = telefone.length;
      var indiceTraço = telefone.indexOf("-");
      var indiceParenteses = telefone.indexOf("(") || telefone.indexOf(")");

      var cepValido = cep.length;

      if (
        nomeEmpresa == "" ||
        cnpj == "" ||
        telefone == "" ||
        email == "" ||
        senha == "" ||
        rua == "" ||
        numero == "" ||
        cidade == "" ||
        cep == "" ||
        logradouro == ""
      ) {
        mensCadastro =
          "<span><br>Todos os campos devem ser preenchidos!</span>";
      } else if (!terminaCom || !contemArroba) {
        mensCadastro =
          "<span><br>O e-mail não é válido. Por favor, insira um e-mail com formato válido (exemplo@sptech.com ou exemplo@sptech.com.br).</span>";
      } else if (tamanhoSenha < 6) {
        mensCadastro =
          "<span><br>A senha deve ter pelo menos 6 caracteres.</span>";
      } else if (cnpjValido != 14) {
        mensCadastro = "<span><br>O cnpj deve ter 14 caracteres.</span>";
      } else if (telefoneValido != 14 || !indiceTraço || !indiceParenteses) {
        mensCadastro =
          "<span><br>O telefone não é válido. Por favor, insira um telefone com formato válido (exemplo: (11)12345-6789).</span>";
      } else if (cepValido != 8) {
        mensCadastro =
          "<span><br>O cep não é válido. Por favor, insira um cep com formato válido (exemplo: 12345678).</span>";
      } else {
        window.location.href = "dryflow-cadastroSucesso.html";
      }

      div_mensagem.innerHTML = `${mensCadastro}`;
    }
  </script>
</html>
